(async () => { const lang = navigator.language?.split('-')[0] || 'en'; const supportedLangs = ['ja','en','it','es','el','hi','pl','zh','fr','de','ko','pt','ru','ar','nl','vi','et','th','cs','da']; const finalLang = supportedLangs.includes(lang) ? lang : 'en'; const phrases = [ "Search for social sharing networks", "Copy Link", "Post to your blog", "Follow", "Share via Email", "Share to any service" ]; const res = await fetch(`https://weshare-ai-language.vercel.app/api/translate?lang=${finalLang}&text=${encodeURIComponent(phrases.join('|'))}`); const translated = await res.json(); const t = translated.split('|'); if (window.e_mailit_config) { window.e_mailit_config.text_display = t[5]; window.e_mailit_config.thanks_message = "‚úÖ " + t[1] + "! " + t[3] + " üôè"; } if (window.gtag) { gtag("event", "weshare_language_detected", { event_category: "language", event_label: finalLang, ai_activated: true }); } document.documentElement.setAttribute("data-lang", finalLang); const script = document.createElement("script"); script.src = "https://weshareapp.io/widget/menu3x/js/button.js"; document.head.appendChild(script); })();